<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><style>circle{fill:%23CD4E3D}</style><circle cx='50' cy='25' r='20'/><circle cx='74' cy='42' r='20'/><circle cx='65' cy='71' r='20'/><circle cx='35' cy='71' r='20'/><circle cx='26' cy='42' r='20'/><circle cx='50' cy='50' r='12' fill='%23BFA456'/></svg>">
    
    <!-- iOS PWA Support -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect width='180' height='180' fill='%23F2EFE9'/><g transform='translate(40, 40) scale(1)'><circle cx='50' cy='25' r='20' fill='%23CD4E3D'/><circle cx='74' cy='42' r='20' fill='%23CD4E3D'/><circle cx='65' cy='71' r='20' fill='%23CD4E3D'/><circle cx='35' cy='71' r='20' fill='%23CD4E3D'/><circle cx='26' cy='42' r='20' fill='%23CD4E3D'/><circle cx='50' cy='50' r='12' fill='%23BFA456'/></g></svg>">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ä¹å· 2026">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#F2EFE9">

    <title>ä¹å·å¿ƒå‹•ä¹‹æ—… 2026</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;500;700&family=Shippori+Mincho:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Palette: Kyushu Earth & Paper */
            --c-paper: #F2EFE9;
            --c-paper-dark: #E6E2D8;
            --c-ink: #3E3832;
            --c-ink-light: #6B6259;
            --c-brown: #5D4037;
            --c-matcha: #6A7F60;
            --c-vermilion: #CD4E3D;
            --c-gold: #BFA456;
            
            --font-main: 'Shippori Mincho', 'Noto Serif TC', serif;
            
            --s-radius: 12px;
            --s-shadow: 0 8px 30px rgba(62, 56, 50, 0.1);
            --s-nav-height: 75px;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--c-paper);
            color: var(--c-ink);
            font-family: var(--font-main);
            margin: 0;
            padding: 0;
            padding-bottom: calc(var(--s-nav-height) + 30px);
            line-height: 1.7;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E");
        }

        /* Utility */
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .hidden { display: none !important; }
        
        h1, h2, h3, p { margin: 0; }

        /* Typography */
        .title-kanji {
            font-family: 'Shippori Mincho', serif;
            font-weight: 700;
            font-size: 1.6rem;
            letter-spacing: 0.15em;
            color: var(--c-ink);
            margin-bottom: 0.5rem;
            text-align: center;
            border-bottom: 2px solid var(--c-matcha);
            padding-bottom: 20px;
            margin-top: 25px;
            position: relative;
        }

        .section-header {
            font-size: 1.2rem;
            color: var(--c-matcha);
            font-weight: 700;
            margin: 35px 0 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: var(--s-radius);
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: var(--s-shadow);
            border: 1px solid rgba(0,0,0,0.02);
            position: relative;
            overflow: hidden;
            transition: transform 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .card:active {
            transform: scale(0.97);
        }

        /* Tags */
        .tag {
            display: inline-flex; /* Align emoji and text */
            align-items: center;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-right: 6px;
            margin-bottom: 4px;
            letter-spacing: 0.02em;
            color: white;
            line-height: 1.3;
        }
        /* Tag Colors & Styles */
        .tag.reserved { background-color: var(--c-vermilion); }
        .tag.nabe { background-color: #D98C6F; }      /* Pot/Hotpot */
        .tag.yakiniku { background-color: #5D4037; }  /* BBQ/Meat */
        .tag.set { background-color: #4D5D75; }       /* Set Meal/Rice */
        .tag.izakaya { background-color: #6B6259; }   /* Izakaya */
        .tag.sweets { background-color: #EFA736; }    /* Sweets */
        .tag.bakery { background-color: #D4A373; }    /* Bakery */
        .tag.snack { background-color: var(--c-matcha); } /* Snack */
        .tag.ramen { background-color: #9CAF88; }     /* Noodles */

        /* Area Section Header */
        .area-header {
            font-family: var(--font-main);
            font-size: 1rem;
            font-weight: 700;
            color: var(--c-matcha);
            margin: 25px 0 15px;
            padding-bottom: 5px;
            border-bottom: 1px dashed var(--c-matcha);
            display: flex;
            align-items: center;
        }
        .area-header::before {
            content: 'ğŸ“';
            margin-right: 6px;
            font-size: 1.1rem;
        }

        /* Spots View Styles */
        .spot-card {
            background: white;
            border-radius: var(--s-radius);
            box-shadow: var(--s-shadow);
            margin-bottom: 24px;
            overflow: hidden;
            transition: transform 0.2s;
            cursor: pointer;
        }
        .spot-card:active {
            transform: scale(0.98);
        }
        .spot-img-container {
            width: 100%;
            height: 180px;
            background-color: var(--c-paper-dark);
            position: relative;
            overflow: hidden;
        }
        .spot-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.9;
            transition: opacity 0.3s;
        }
        .spot-header {
            padding: 20px;
            padding-bottom: 10px;
        }
        .spot-title {
            font-family: 'Shippori Mincho', serif;
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--c-brown);
        }
        .spot-subtitle {
            font-size: 0.9rem;
            color: var(--c-matcha);
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        /* Accordion Details */
        .spot-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0, 1, 0, 1); /* Ease-out like effect */
            background-color: white;
        }
        .spot-details.open {
            max-height: 2000px; /* Arbitrary large number */
            transition: max-height 0.4s ease-in-out;
        }
        .spot-content {
            padding: 0 20px 20px 20px;
            font-size: 0.95rem;
            color: var(--c-ink);
            line-height: 1.8;
            border-top: 1px dashed var(--c-paper-dark);
            margin-top: 10px;
            padding-top: 15px;
        }
        .spot-section-title {
            font-weight: bold;
            color: var(--c-brown);
            margin-top: 15px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }
        .spot-section-title::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 14px;
            background: var(--c-gold);
            margin-right: 8px;
            border-radius: 2px;
        }
        .spot-tips-box {
            background-color: rgba(106, 127, 96, 0.1); /* Light Matcha */
            border-left: 4px solid var(--c-matcha);
            padding: 15px;
            margin-top: 20px;
            border-radius: 0 4px 4px 0;
            font-size: 0.9rem;
        }
        .expand-hint {
            text-align: center;
            color: var(--c-ink-light);
            font-size: 0.8rem;
            padding-bottom: 15px;
            opacity: 0.6;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        /* Adjust Nav Bar for 5 items */
        .nav-bar {
            position: fixed;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 30px);
            max-width: 580px;
            height: 70px;
            background: rgba(62, 56, 50, 0.96);
            backdrop-filter: blur(15px);
            border-radius: 35px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
            z-index: 1000;
            padding: 0 5px;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: rgba(255,255,255,0.4);
            font-size: 0.65rem;
            background: none;
            border: none;
            cursor: pointer;
            transition: color 0.3s ease;
            width: 19%;
        }
        .nav-item.active {
            color: #E6E2D8;
        }
        .nav-item svg {
            width: 22px;
            height: 22px;
            margin-bottom: 4px;
        }

        /* Weather Widget */
        .weather-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            text-align: right;
        }
        .weather-icon {
            font-size: 1.8rem;
            line-height: 1;
            margin-bottom: 4px;
        }
        .weather-temp {
            font-size: 0.85rem;
            font-weight: bold;
            color: var(--c-ink);
        }
        .weather-loc {
            font-size: 0.7rem;
            color: var(--c-ink-light);
            opacity: 0.8;
        }

        /* Buttons */
        .btn-map {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-top: 15px;
            padding: 10px 20px;
            background-color: var(--c-matcha);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.95rem;
            width: 100%;
            transition: all 0.2s;
            font-weight: 500;
        }
        .btn-map:hover {
            filter: brightness(0.9);
        }
        .btn-map svg {
            width: 18px;
            height: 18px;
            margin-right: 8px;
        }

        /* Flights */
        .flight-card {
            border-top: 6px solid var(--c-vermilion);
        }
        .flight-number {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            font-weight: bold;
            background: var(--c-paper);
            padding: 2px 8px;
            border-radius: 4px;
        }

        /* Timeline */
        .timeline-item {
            margin-bottom: 20px;
            position: relative;
            padding-left: 30px;
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 5px;
            top: 8px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--c-matcha);
        }
        .timeline-content {
            flex: 1;
        }
        .timeline-time {
            font-weight: bold;
            color: var(--c-brown);
            margin-right: 10px;
            font-size: 0.95rem;
        }
        
        .nav-icon-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            color: var(--c-matcha);
            border-radius: 50%;
            transition: background-color 0.2s;
            margin-left: 10px;
            flex-shrink: 0;
            margin-top: -8px; /* Align slightly with text */
        }
        .nav-icon-link:active {
            background-color: rgba(106, 127, 96, 0.1);
        }
        .nav-icon-link svg {
            width: 20px;
            height: 20px;
            stroke-width: 2px;
        }

        /* Intro Text */
        .intro-text {
            font-size: 0.95rem;
            color: var(--c-ink-light);
            text-align: center;
            margin: 20px 0 30px;
            padding: 0 10px;
            font-style: italic;
        }

        /* Loader */
        #loader {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: var(--c-paper);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        .mon-stamps {
            font-family: serif;
            font-size: 2rem;
            color: var(--c-vermilion);
            border: 4px solid var(--c-vermilion);
            padding: 10px 20px;
            transform: rotate(-5deg);
            font-weight: bold;
            margin-bottom: 20px;
        }

    </style>
</head>
<body>

    <div id="loader">
        <div class="mon-stamps">ä¹å·</div>
        <div style="letter-spacing: 0.3em; color: var(--c-ink-light)">å¿ƒå‹•ä¹‹æ—… 2026</div>
    </div>

    <main class="container">
        <!-- View: Itinerary -->
        <div id="view-itinerary" class="view">
            <h1 class="title-kanji">
                <span style="display:block; font-size:0.55em; font-weight:500; color:var(--c-matcha); letter-spacing:0.15em; margin-bottom:4px; font-family:var(--font-main);">2026 æ˜¥ç¯€ ä¹å·éŠ</span>
                è¡Œç¨‹å®‰æ’
            </h1>
            <p class="intro-text">äºŒæœˆçš„ä¹å·ï¼Œæ˜¯ä¸€é¦–æº«æŸ”è€Œå±¤æ¬¡è±å¯Œçš„å†¬æ—¥åºæ›²ã€‚</p>
            <div id="itinerary-list"></div>
        </div>

        <!-- View: Spots -->
        <div id="view-spots" class="view hidden">
            <h1 class="title-kanji">æ™¯é»å°è¦½</h1>
            <p class="intro-text">æ·±å…¥æ¢ç´¢ä¹å·çš„è‡ªç„¶èˆ‡æ–‡åŒ–äº®é»ã€‚</p>
            <div id="spot-list"></div>
        </div>

        <!-- View: Food -->
        <div id="view-food" class="view hidden">
            <h1 class="title-kanji">ç¾é£Ÿè³‡è¨Š</h1>
            <p class="intro-text">å­£ç¯€é™å®šçš„ç¾é£Ÿæ¢ç´¢ï¼Œè‚¥ç¾ç‰¡è £èˆ‡åšå¤šéˆé­‚ç¾é£Ÿã€‚</p>
            <div id="food-list"></div>
        </div>

        <!-- View: Stay -->
        <div id="view-stay" class="view hidden">
            <h1 class="title-kanji">ä½å®¿è³‡è¨Š</h1>
            <p class="intro-text">ç²¾é¸èˆ’é©èˆ‡ä¾¿åˆ©å…¼å…·çš„ä¸‹æ¦»ä¹‹æ‰€ã€‚</p>
            <div id="stay-list"></div>
        </div>

        <!-- View: Flights -->
        <div id="view-flights" class="view hidden">
            <h1 class="title-kanji">èˆªç­è³‡è¨Š</h1>
            <p class="intro-text">æ˜Ÿå®‡èˆªç©ºï¼Œå„ªé›…é–‹å•Ÿèˆ‡çµæŸæ‚¨çš„æ—…ç¨‹ã€‚</p>
            <div id="flight-list"></div>
        </div>
    </main>

    <nav class="nav-bar">
        <button class="nav-item active" onclick="switchTab('itinerary')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
            <span>è¡Œç¨‹</span>
        </button>
        <button class="nav-item" onclick="switchTab('spots')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
            <span>æ™¯é»</span>
        </button>
        <button class="nav-item" onclick="switchTab('food')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg>
            <span>ç¾é£Ÿ</span>
        </button>
        <button class="nav-item" onclick="switchTab('stay')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 21h18M5 21V7l8-4 8 4v14M9 10a2 2 0 1 0 0 4"/></svg>
            <span>ä½å®¿</span>
        </button>
        <button class="nav-item" onclick="switchTab('flights')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2L2 22"/><path d="M2 11h9"/><path d="M11 2v9"/><path d="M22 2l-7 20-4-9-9-4 20-7z"/></svg>
            <span>èˆªç­</span>
        </button>
    </nav>

    <script>
        const data = {
            flights: [
                { type: "å»ç¨‹ JX840", date: "2/19 (å››)", time: "14:45 - 18:00", flight: "JX840", route: "TPE â FUK", note: "å°åŒ—æ¡ƒåœ’ ç¬¬ä¸€èˆªå»ˆ" },
                { type: "å›ç¨‹ JX841", date: "2/23 (ä¸€)", time: "19:10 - 20:50", flight: "JX841", route: "FUK â TPE", note: "ç¦å²¡åœ‹éš› åœ‹éš›èˆªå»ˆ" }
            ],
            stay: [
                { city: "ç¦å²¡ Fukuoka", hotel: "ä¸‰äº•èŠ±åœ’é£¯åº— ç¦å²¡ç¥‡åœ’ (Day 1)", area: "åšå¤šç«™å‘¨é‚Š", note: "åœ°ç†ä½ç½®å„ªè¶Šï¼Œè¨­æœ‰å¤§æµ´å ´", map: "ä¸‰äº•èŠ±åœ’é£¯åº— ç¦å²¡ç¥‡åœ’" },
                { city: "ç†Šæœ¬ Kumamoto", hotel: "ç†Šæœ¬OMO5 by æ˜Ÿé‡é›†åœ˜ (Day 2)", area: "ç†Šæœ¬å¸‚ä¸­å¿ƒ", note: "éƒ½å¸‚è§€å…‰æ–°å½¢æ…‹ï¼Œé„°è¿‘ç†Šæœ¬åŸ", map: "OMO5 ç†Šæœ¬ by æ˜Ÿé‡é›†åœ˜" },
                { city: "ç¦å²¡ Fukuoka", hotel: "Hiltonç¦å²¡æµ·é·¹ (Day 3~4)", area: "ç™¾é“æ¿±", note: "å…¨å®¤æµ·æ™¯ï¼Œåº¦å‡é¢¨æƒ…èˆ‡å¤§å‹é£¯åº—æœå‹™", map: "Hilton Fukuoka Sea Hawk" }
            ],
            food: [
                // å·²é ç´„ (Reserved) - å„ªå…ˆé¡¯ç¤º
                { name: "å…ƒç¥–ç‰›è…¸é‹æ¨‚å¤©åœ°", type: "åšå¤š", region: "Hakata", note: "2/19 21:15 å·²é ç´„ï¼Œæš–å†¬éˆé­‚æ–™ç†", reserved: true, tags: ["reserved", "nabe"], map: "å…ƒç¥–ç‰›è…¸é‹ æ¨‚å¤©åœ° åšå¤šç«™å‰åº—" },
                { name: "ç‡’è‚‰ä¸Š", type: "å¤©ç¥", region: "Tenjin", note: "2/22 20:30 å·²é ç´„ï¼Œç²¾é¸é«˜å“è³ªç‡’è‚‰", reserved: true, tags: ["reserved", "yakiniku"], map: "Yakiniku Jo 2-2-8 Watanabe-dori" },
                
                // åšå¤š (Hakata)
                { name: "åšå¤šæ°´ç‚Šé‹å°‚é–€ æ©™", type: "åšå¤š", region: "Hakata", note: "ç±³å…¶æ—æ¨è–¦ï¼Œæ¿ƒéƒé›æ¹¯é‹", tags: ["nabe"], map: "åšå¤šæ°´ç‚Šé‹å°‚é–€ æ©™" },
                { name: "åšå¤šã‚·ãƒ¼ãƒ•ãƒ¼ãƒ‰ã†ãŠç”°", type: "åšå¤š", region: "Hakata", note: "è±ªè¯æµ·é®®ä¸¼ï¼Œæ˜å¤ªå­é£Ÿã¹æ”¾é¡Œ", tags: ["set"], map: "åšå¤šã‚·ãƒ¼ãƒ•ãƒ¼ãƒ‰ã†ãŠç”°" },
                { name: "å¤§åœ°çš„çƒé¾éºµ", type: "åšå¤š", region: "Hakata", note: "å·¨å¤§ç‰›è’¡å¤©å©¦ç¾…ï¼Œåšå¤šå¿…åƒ", tags: ["ramen"], map: "å¤§åœ°ã®ã†ã©ã‚“ åšå¤šé§…ã¡ã‹ã¦ã‚“" },
                { name: "é›çš®é•·æ”¿ (ã‹ã‚å±‹)", type: "åšå¤š", region: "Hakata", note: "åšå¤šåç‰©é›çš®ä¸²ï¼Œå®µå¤œé¦–é¸", tags: ["izakaya"], map: "é›çš®é•·æ”¿ åšå¤š" },
                { name: "LeClerc", type: "åšå¤š", region: "Hakata", note: "æ³•å¼ç”œé»ï¼Œç²¾ç·»è›‹ç³•", tags: ["sweets"], map: "LeClerc Hakata" },
                { name: "åŠªåŠªé›", type: "åšå¤šç«™", region: "Hakata", note: "å†·ç‚¸é›ï¼Œæœ€ä½³ä¸‹é…’èœèˆ‡ä¼´æ‰‹ç¦®", tags: ["snack"], map: "åŠªåŠªé› åšå¤šãƒã‚¤ãƒ³ã‚°åº—" },
                { name: "ã‹ã‚å±‹ ç¥‡åœ’åº—", type: "ç¥‡åœ’", region: "Hakata", note: "ç¦å²¡é›çš®ååº—ï¼Œå£æ„Ÿé…¥è„†", tags: ["izakaya"], map: "ã‹ã‚å±‹ ç¥‡åœ’åº—" },
                { name: "FUK Coffee", type: "ç¥‡åœ’/åšå¤š", region: "Hakata", note: "èˆªç©ºä¸»é¡Œå’–å•¡å»³ï¼Œé©åˆæ‰“å¡", tags: ["sweets"], map: "FUK COFFEE Parks" },

                // å¤©ç¥/ä¸­æ´² (Tenjin/Nakasu)
                { name: "å…ƒç¥–åšå¤šã‚ã‚“ãŸã„é‡", type: "è¥¿ä¸­æ´²", region: "Tenjin", note: "æ˜å¤ªå­è“‹é£¯ååº—ï¼Œå»ºè­°æ—©èµ·æ’éšŠ", tags: ["set"], map: "å…ƒç¥–åšå¤šã‚ã‚“ãŸã„é‡" },
                { name: "I'm donut? ç¦å²¡", type: "å¤©ç¥", region: "Tenjin", note: "ç”Ÿç”œç”œåœˆæ’éšŠååº—ï¼Œå£æ„Ÿæ¿•æ½¤", tags: ["sweets"], map: "I'm donut? ç¦å²¡" },
                { name: "éˆ´æ‡¸ åšå¤šæœ¬åº—", type: "ä¸­æ´²", region: "Tenjin", note: "ç²¾ç·»å’Œè“å­ï¼Œè‰è“å¤§ç¦", tags: ["sweets"], map: "éˆ´æ‡¸ åšå¤šæœ¬åº—" },
                { name: "Bouquca Bakery", type: "ç¦å²¡", region: "Tenjin", note: "äººæ°£éºµåŒ…åº—ï¼Œå£æ„Ÿç´®å¯¦", tags: ["bakery"], map: "Bouquca Bakery Fukuoka" },
                { name: "Pain Stock", type: "å¤©ç¥/ç®±å´", region: "Tenjin", note: "ç¦å²¡æœ€å¼·éºµåŒ…åº—ï¼Œæ˜å¤ªæ³•æ£å¿…è²·", tags: ["bakery"], map: "stock å¤©ç¥" },

                // å…¶ä»–åœ°å€ (Other)
                { name: "æŸ³å·è’¸ç± é°»é­šé£¯", type: "æŸ³å·", region: "Other", note: "æœ¬å‰å±‹/è‹¥æ¾å±‹ï¼Œè»Ÿç³¯é¦™ç”œ", tags: ["set"], map: "å…ƒç¥–æœ¬å‰å±‹ æœ¬åº— æŸ³å·" },
                { name: "å‹çƒˆäº­", type: "ç†Šæœ¬", region: "Other", note: "é»‘è±šç‚¸è±¬æ’ï¼Œå¤–é…¥å…§å«©", tags: ["set"], map: "å‹çƒˆäº­ æ–°å¸‚è¡—æœ¬åº—" },
                { name: "ç³¸å³¶ç‰¡è £å°å±‹", type: "ç³¸å³¶", region: "Other", note: "å†¬å­£é™å®šè‚¥ç¾ç‰¡è £", tags: ["snack"], map: "å²å¿—æ¼æ¸¯ ç‰¡è £å°å±‹" }
            ],
            itinerary: [
                {
                    day: "Day 1 (2/19 å››)",
                    title: "æŠµé”ç¦å²¡ï¼å‘³è•¾åºæ›²",
                    weather: { icon: "â˜ï¸", temp: "6Â°C", desc: "å¤šé›²" },
                    loc: "åšå¤š",
                    items: [
                        { time: "18:00", text: "æŠµé”ç¦å²¡æ©Ÿå ´ (JX840)", map: "ç¦å²¡æ©Ÿå ´åœ‹éš›ç·šèˆªå»ˆ" },
                        { time: "19:00", text: "è¾¦ç†å…¥å¢ƒèˆ‡æ©Ÿå ´å–è»Š", map: "ç¦å²¡æ©Ÿå ´åœ‹éš›ç·šèˆªå»ˆ" },
                        { time: "20:30", text: "ä¸‰äº•èŠ±åœ’é£¯åº— ç¦å²¡ç¥‡åœ’ Check-in", map: "ä¸‰äº•èŠ±åœ’é£¯åº— ç¦å²¡ç¥‡åœ’" },
                        { time: "21:15", text: "æ™šé¤ï¼šæ¨‚å¤©åœ°ç‰›è…¸é‹ (å·²é ç´„)", map: "å…ƒç¥–ç‰›è…¸é‹ æ¨‚å¤©åœ° åšå¤šç«™å‰åº—" }
                    ]
                },
                {
                    day: "Day 2 (2/20 äº”)",
                    title: "ç­‘å¾Œå·¡ç¦®ï¼èŒ¶é„‰é¢¨å…‰",
                    weather: { icon: "â˜€ï¸", temp: "8Â°C", desc: "æ™´æœ—" },
                    loc: "æµ®ç¾½/å…«å¥³",
                    items: [
                        { time: "10:40", text: "æµ®ç¾½ç¨»è·ç¥ç¤¾ (æœ±ç´…åƒæœ¬é³¥å±…)", map: "æµ®ç¾½ç¨²è·ç¥ç¤¾" },
                        { time: "12:00", text: "æµ®ç¾½ç™½å£è¡—é“åˆé¤ & æ•£ç­–", map: "å‰äº•ç™½å£è¡—é“" },
                        { time: "14:00", text: "å…«å¥³ä¸­å¤®å¤§èŒ¶åœ’å±•æœ›æ‰€", map: "å…«å¥³ä¸­å¤®å¤§èŒ¶åœ’ å±•æœ›æ‰€" },
                        { time: "15:30", text: "å…«å¥³èŒ¶ä¹‹æ–‡åŒ–é¤¨ (æŠ¹èŒ¶é«”é©—)", map: "èŒ¶ä¹‹æ–‡åŒ–é¤¨ æ˜Ÿé‡æ‘" },
                        { time: "18:30", text: "ç†Šæœ¬OMO5 é£¯åº— Check-in", map: "OMO5 ç†Šæœ¬ by æ˜Ÿé‡é›†åœ˜" },
                        { time: "19:30", text: "æ™šé¤ï¼šå‹çƒˆäº­ç‚¸è±¬æ’", map: "å‹çƒˆäº­ æ–°å¸‚è¡—æœ¬åº—" }
                    ]
                },
                {
                    day: "Day 3 (2/21 å…­)",
                    title: "å¤åŸæ°´é„‰ï¼ä»Šæ˜”æ¼«éŠ",
                    weather: { icon: "â›…", temp: "9Â°C", desc: "æ™´æ™‚å¤šé›²" },
                    loc: "ç†Šæœ¬/æŸ³å·",
                    items: [
                        { time: "09:00", text: "ç†Šæœ¬åŸ (ç‰¹åˆ¥è¦‹å­¸é€šè·¯)", map: "ç†Šæœ¬åŸ äºŒã®ä¸¸é§è»Šå ´" },
                        { time: "11:00", text: "æ«»ä¹‹é¦¬å ´ åŸå½©è‹‘", map: "æ«»ä¹‹é¦¬å ´ åŸå½©è‹‘" },
                        { time: "13:30", text: "åˆé¤ï¼šæŸ³å·è’¸ç± é°»é­šé£¯", map: "å…ƒç¥–æœ¬å‰å±‹ æœ¬åº—" },
                        { time: "15:00", text: "æŸ³å·éŠèˆ¹ (å†¬å­£æš–æ¡Œèˆ¹)", map: "æŸ³å·æ³›èˆŸ" },
                        { time: "19:00", text: "æ™šé¤ï¼šä¸­æ´²å±‹å°é«”é©—", map: "ä¸­æ´²å±‹å°è¡—" }
                    ]
                },
                {
                    day: "Day 4 (2/22 æ—¥)",
                    title: "æ¢…é¦™æµ·éŸ»ï¼å­£ç¯€ç»ç¦®",
                    weather: { icon: "ğŸŒ¸", temp: "7Â°C", desc: "æ¢…èŠ±å­£" },
                    loc: "å¤ªå®°åºœ/ç³¸å³¶",
                    items: [
                        { time: "09:00", text: "å¤ªå®°åºœå¤©æ»¿å®® (é£›æ¢…/æ˜Ÿå·´å…‹)", map: "å¤ªå®°åºœå¤©æ»¿å®®" },
                        { time: "12:30", text: "åˆé¤ï¼šç³¸å³¶å²å¿—æ¼æ¸¯ç‰¡è £å°å±‹", map: "å²å¿—æ¼æ¸¯" },
                        { time: "14:30", text: "ç³¸å³¶æµ·å²¸ç·š (æ«»äº•äºŒè¦‹æµ¦)", map: "æ«»äº•äºŒè¦‹æµ¦ å¤«å©¦å²©" },
                        { time: "18:00", text: "å¤©ç¥å•†åœˆè³¼ç‰©æ¡è²·", map: "å¤©ç¥åœ°ä¸‹è¡—" },
                        { time: "20:30", text: "æ™šé¤ï¼šç‡’è‚‰ä¸Š (å·²é ç´„)", map: "2-2-8 Watanabe-dori, Fukuoka" }
                    ]
                },
                {
                    day: "Day 5 (2/23 ä¸€)",
                    title: "éƒ½æœƒæ¼«éŠï¼æ»¿è¼‰è€Œæ­¸",
                    weather: { icon: "âœˆï¸", temp: "10Â°C", desc: "æ™´å¤©" },
                    loc: "ç¦å²¡å¸‚å€",
                    items: [
                        { time: "10:00", text: "å¤§æ¿ å…¬åœ’æ•£ç­– æˆ– å¯¶å¯å¤¢ä¸­å¿ƒ", map: "å¤§æ¿ å…¬åœ’" },
                        { time: "12:00", text: "åˆé¤ï¼šå¤§åœ°çš„çƒé¾éºµ", map: "å¤§åœ°ã®ã†ã©ã‚“ åšå¤šé§…ä¸‹åº—" },
                        { time: "13:30", text: "Lalaport ç¦å²¡ é‹¼å½ˆç«‹åƒ", map: "LaLaportç¦å²¡" },
                        { time: "16:30", text: "é‚„è»Šä¸¦æŠµé”æ©Ÿå ´ (JX841)", map: "ç¦å²¡æ©Ÿå ´åœ‹éš›ç·šèˆªå»ˆ" }
                    ]
                }
            ],
            spots: [
                {
                    id: "ukiha-inari",
                    name: "æµ®ç¾½ç¨»è·ç¥ç¤¾",
                    subtitle: "é€šå¾€å¤©ç©ºçš„ç´…è‰²éšæ¢¯ï¼Œçµ•ç¾çš„æ‹ç…§è–åœ°",
                    img: "https://www.hokkaidolibrary.com/img/attractions_pic/v9eIipI92bRkGXJWdvqQjRzmlp7rVblktSfMyeoD__1606_1070.jpg",
                    bg: "é€™è£¡å»ºæ–¼1957å¹´ï¼Œä¾›å¥‰å¾äº¬éƒ½ä¼è¦‹ç¨»è·å¤§ç¤¾åˆ†éˆçš„ç¥æ˜ã€‚é›–æ­·å²ä¸é•·ï¼Œä½†å› çµ•ç¾æ™¯è‰²æˆç‚ºIGç†±é–€æ™¯é»ã€‚",
                    mustSee: "æ²¿è‘—é™¡å³­å±±å¡æ•´é½Šæ’åˆ—çš„91åº§æœ±ç´…è‰²é³¥å±…ã€‚ç©¿éé³¥å±…éš§é“å›é ­ä¸€æœ›ï¼Œèƒ½ä¿¯ç°å£¯é—Šçš„ç­‘å¾Œå¹³åŸã€‚",
                    tips: "é€™è£¡è¢«ç¨±ç‚ºã€Œå¤©ç©ºç¥ç¤¾ã€ï¼Œæ˜¥å¤©æ«»èŠ±ç››é–‹æ™‚æ™¯è‰²å¦‚å¤¢ä¼¼å¹»ã€‚ä¸»è¦ä¿ä½‘å•†æ¥­ç¹æ¦®ã€äº”ç©€è±æ”¶èˆ‡å­¸æ¥­æœ‰æˆã€‚"
                },
                {
                    id: "ukiha-shirakabe",
                    name: "æµ®ç¾½ç™½å£è¡—é“",
                    subtitle: "æ¼«æ­¥æ±Ÿæˆ¶æ™‚ä»£ï¼Œé˜²ç½æ™ºæ…§ä¸‹çš„ç™½è‰²è€è¡—",
                    img: "https://placehold.co/600x360/F2EFE9/5D4037/png?text=Shirakabe+Street",
                    bg: "æ±Ÿæˆ¶æ™‚ä»£é€£çµä¹…ç•™ç±³èˆ‡æ—¥ç”°çš„å®¿å ´ç”ºã€‚æ˜æ²»åˆæœŸå¤§ç«å¾Œï¼Œå¯Œå•†ç‚ºé˜²ç«æ”¹ç”¨ã€ŒåœŸè—é€ ã€æ¨£å¼é‡å»ºï¼Œå½¢æˆä»Šæ—¥çš„ç™½å£å»ºç¯‰ç¾¤ã€‚",
                    mustSee: "ä¿ç•™æ˜æ²»æ™‚ä»£é¢¨è²Œçš„å‚³çµ±å»ºç¯‰ï¼Œä»¥åŠç”±å¤æ°‘å®¶æ”¹å»ºçš„å’–å•¡å»³èˆ‡é›œè²¨é‹ªï¼Œå¦‚ã€Œå±…è—ä¹‹é¤¨ã€ã€‚",
                    tips: "æ¼«æ­¥æ™‚è«‹æŠ¬é ­æ¬£è³ç™½ç‰†ä¸Šçš„ç²¾ç·»è£é£¾ï¼ˆéç¹ªï¼‰ï¼Œé‚£æ˜¯æ˜”æ—¥å¯Œå•†å½°é¡¯è²¡åŠ›çš„è±¡å¾µã€‚"
                },
                {
                    id: "yame-tea",
                    name: "å…«å¥³ä¸­å¤®å¤§èŒ¶åœ’",
                    subtitle: "ä¸€æœ›ç„¡éš›çš„ç¶ è‰²åœ°æ¯¯ï¼Œ600å¹´çš„èŒ¶é¦™å‚³æ‰¿",
                    img: "https://placehold.co/600x360/6A7F60/FFFFFF/png?text=Yame+Tea+Garden",
                    bg: "å…«å¥³èŒ¶æ­·å²å¯è¿½æº¯è‡³600å¤šå¹´å‰ã€‚é€™ç‰‡å¤§èŒ¶åœ’æ˜¯1970å¹´ä»£é–‹å¢¾è€Œæˆçš„ç¸£ç‡Ÿç¤ºç¯„èŒ¶åœ’ï¼Œå»£é”70å…¬é ƒã€‚",
                    mustSee: "360åº¦ç„¡æ­»è§’çš„ç·©å¡ä¸˜é™µï¼Œæ•´é½Šæ’åˆ—çš„èŒ¶æ¨¹å¦‚åŒå·¨å¤§çš„ç¶ è‰²åœ°æ¯¯ã€‚å¤©æ°£å¥½æ™‚å¯é çœºæœ‰æ˜æµ·ã€‚",
                    tips: "æ³¨æ„èŒ¶åœ’è£¡åƒé›»ç·šæ¡¿çš„é¢¨æ‰‡ï¼Œé‚£æ˜¯ã€Œé˜²éœœæ‰‡ã€ï¼Œç”¨ä¾†é˜²æ­¢æ—¥å¤œæº«å·®å¤§å°è‡´èŒ¶è‘‰çµéœœï¼Œæ˜¯ç”Ÿç”¢é«˜ç´šç‰éœ²çš„ç§˜å¯†ã€‚"
                },
                {
                    id: "kumamoto-castle",
                    name: "ç†Šæœ¬åŸ (ç‰¹åˆ¥é€šè·¯)",
                    subtitle: "è¦‹è­‰å¾©èˆˆçš„ç©ºä¸­è¿´å»Šï¼Œé›£æ”»ä¸è½çš„ååŸ",
                    img: "https://placehold.co/600x360/3E3832/FFFFFF/png?text=Kumamoto+Castle",
                    bg: "æ—¥æœ¬ä¸‰å¤§ååŸä¹‹ä¸€ï¼ŒåŠ è—¤æ¸…æ­£å»ºé€ ã€‚2016å¹´åœ°éœ‡å—æåš´é‡ï¼Œç›®å‰é€éç‰¹åˆ¥è¦‹å­¸é€šè·¯é–‹æ”¾åƒè§€ä¿®å¾©éç¨‹ã€‚",
                    mustSee: "æœŸé–“é™å®šçš„ã€Œç©ºä¸­è¿´å»Šã€ï¼Œå¯è¿‘è·é›¢è§€çœ‹çŸ³ç‰†ä¿®å¾©å·¥ç¨‹èˆ‡å®å‰çš„å¤©å®ˆé–£ã€‚é‚„æœ‰è‘—åçš„ã€Œæ­¦è€…è¿”ã€çŸ³ç‰†ã€‚",
                    tips: "ç©ºä¸­è¿´å»Šé è¨ˆé–‹æ”¾è‡³2038å¹´ï¼Œé€™æ˜¯åªæœ‰ç¾åœ¨æ‰èƒ½çœ‹åˆ°çš„çè²´æ™¯è±¡ï¼Œè¦‹è­‰æ­·å²çš„ä¿®å¾©éç¨‹ã€‚"
                },
                {
                    id: "josaien",
                    name: "æ«»ä¹‹é¦¬å ´ åŸå½©è‹‘",
                    subtitle: "ç©¿è¶Šæ±Ÿæˆ¶åŸä¸‹ç”ºï¼Œç¾é£Ÿèˆ‡æ­·å²çš„é«”é©—åœ’å€",
                    img: "https://placehold.co/600x360/CD4E3D/FFFFFF/png?text=Josaien",
                    bg: "ä½æ–¼ç†Šæœ¬åŸå±±è…³ä¸‹çš„è§€å…‰è¨­æ–½ï¼Œé‡ç¾äº†17ä¸–ç´€æ±Ÿæˆ¶æ™‚ä»£åŸä¸‹ç”ºçš„ç¹æ¦®é¢¨è²Œã€‚",
                    mustSee: "ã€Œæ¹§æ¹§åº§ã€æ­·å²é«”é©—é¤¨èˆ‡èšé›†23å®¶ç‰¹è‰²åº—é‹ªçš„ã€Œæ«»èŠ±å°è·¯ã€ã€‚",
                    tips: "å¿…åƒç†Šæœ¬ä¸‰å¤§åç”¢ï¼šç”Ÿé¦¬è‚‰åˆºèº«ã€èŠ¥æœ«è“®è—•ã€å³æ™‚ç³°å­ï¼ˆIkinari Dangoï¼‰ã€‚"
                },
                {
                    id: "dazaifu",
                    name: "å¤ªå®°åºœå¤©æ»¿å®®",
                    subtitle: "å­¸å•ä¹‹ç¥çš„ç¸½æœ¬å®®ï¼Œé£›æ¢…å‚³èªªçš„èˆå°",
                    img: "https://placehold.co/600x360/BFA456/FFFFFF/png?text=Dazaifu+Tenmangu",
                    bg: "ä¾›å¥‰å­¸å•ä¹‹ç¥è…åŸé“çœŸï¼Œå·²æœ‰1100å¹´æ­·å²ã€‚ç›®å‰æœ¬æ®¿é€²è¡Œå¤§æ•´ä¿®ï¼Œå¯åƒè§€ç”±è—¤æœ¬å£¯ä»‹è¨­è¨ˆçš„ã€Œè‡¨æ™‚æœ¬æ®¿ã€ã€‚",
                    mustSee: "æœ¬æ®¿æ—çš„ã€Œé£›æ¢…ã€ï¼Œå‚³èªªå› æ€å¿µä¸»äººä¸€å¤œå¾äº¬éƒ½é£›ä¾†ã€‚é‚„æœ‰å±‹é ‚ç¨®æ»¿æ¤ç‰©çš„è‡¨æ™‚æœ¬æ®¿ã€‚",
                    tips: "åƒé“ä¸Šå¿…åƒç¾çƒ¤ã€Œæ¢…æé¤…ã€ã€‚åˆ¥å¿˜äº†æ‘¸æ‘¸ã€Œå¾¡ç¥ç‰›ã€éŠ…åƒçš„é ­ï¼Œç¥ˆæ±‚é•·æ™ºæ…§ã€‚"
                }
            ]
        };

        const mapIcon = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>`;

        function renderItinerary() {
            const list = document.getElementById('itinerary-list');
            list.innerHTML = data.itinerary.map(day => `
                <div class="card">
                    <div class="weather-badge">
                        <div class="weather-icon">${day.weather.icon}</div>
                        <div class="weather-temp">${day.weather.temp} ${day.weather.desc}</div>
                        <div class="weather-loc">${day.loc}</div>
                    </div>
                    <div style="color:var(--c-vermilion); font-weight:bold; font-size:0.8rem; margin-bottom:4px;">${day.day}</div>
                    <h3 style="font-size:1.3rem; margin-bottom:20px; padding-right:70px;">${day.title}</h3>
                    <div style="border-left: 2px solid var(--c-paper-dark); margin-left:5px; padding-left:0;">
                        ${day.items.map(item => `
                            <div class="timeline-item">
                                <div class="timeline-content">
                                    <span class="timeline-time">${item.time}</span>
                                    <span>${item.text}</span>
                                </div>
                                ${item.map ? `<a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.map)}" target="_blank" class="nav-icon-link" aria-label="å°èˆªè‡³ ${item.text}">${mapIcon}</a>` : ''}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function renderFood() {
            const list = document.getElementById('food-list');
            list.innerHTML = ''; // Clear current content

            // Helper to generate Card HTML
            const createCard = (item) => `
                <div class="card" style="${item.reserved ? 'border-left: 5px solid var(--c-vermilion)' : ''}">
                    <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                        <div>
                            <div style="margin-bottom:6px;">
                                ${item.tags ? item.tags.map(t => {
                                    let label = t;
                                    let icon = '';
                                    if(t==='reserved') { label = 'å·²é ç´„'; icon='ğŸ”´'; }
                                    else if(t==='nabe') { label = 'é‹ç‰©'; icon='ğŸ²'; }
                                    else if(t==='yakiniku') { label = 'ç‡’è‚‰'; icon='ğŸ¥©'; }
                                    else if(t==='set') { label = 'å®šé£Ÿ'; icon='ğŸ±'; }
                                    else if(t==='izakaya') { label = 'å±…é…’å±‹'; icon='ğŸ¢'; }
                                    else if(t==='sweets') { label = 'ç”œé»'; icon='ğŸ¡'; }
                                    else if(t==='bakery') { label = 'éºµåŒ…'; icon='ğŸ¥¯'; }
                                    else if(t==='snack') { label = 'å°åƒ'; icon='ğŸ—'; }
                                    else if(t==='ramen') { label = 'éºµé¡'; icon='ğŸœ'; }
                                    return `<span class="tag ${t}">${icon} ${label}</span>`;
                                }).join('') : ''}
                            </div>
                            <h3 style="font-size:1.2rem; margin:4px 0 8px;">${item.name}</h3>
                            <p style="font-size:0.9rem; color:var(--c-ink-light);">${item.note}</p>
                        </div>
                    </div>
                    <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.map)}" target="_blank" class="btn-map">${mapIcon} æŸ¥çœ‹åœ°é»</a>
                </div>
            `;

            // 1. Reserved Items (Top Priority)
            const reservedItems = data.food.filter(i => i.reserved);
            if (reservedItems.length > 0) {
                const reservedSection = document.createElement('div');
                reservedSection.innerHTML = `<div class="area-header" style="color:var(--c-vermilion); border-color:var(--c-vermilion);">ğŸ“… é ç´„è¡Œç¨‹</div>` + 
                                            reservedItems.map(createCard).join('');
                list.appendChild(reservedSection);
            }

            // 2. Group by Region (Excluding reserved ones)
            const otherItems = data.food.filter(i => !i.reserved);

            const regions = {
                'Hakata': 'åšå¤šè»Šç«™å‘¨é‚Š',
                'Tenjin': 'å¤©ç¥ãƒ»ä¸­æ´²',
                'Other': 'ç†Šæœ¬ãƒ»æŸ³å·ãƒ»ç³¸å³¶'
            };

            for (const [key, label] of Object.entries(regions)) {
                const regionItems = otherItems.filter(i => i.region === key);
                if (regionItems.length > 0) {
                    const section = document.createElement('div');
                    section.innerHTML = `<div class="area-header">${label}</div>` + 
                                        regionItems.map(createCard).join('');
                    list.appendChild(section);
                }
            }
        }

        function renderStay() {
            const list = document.getElementById('stay-list');
            list.innerHTML = data.stay.map(item => `
                <div class="card">
                    <div style="color:var(--c-matcha); font-weight:bold; font-size:0.8rem; margin-bottom:5px;">${item.city}</div>
                    <h3 style="font-size:1.2rem; margin-bottom:8px;">${item.hotel}</h3>
                    <p style="font-size:0.9rem; color:var(--c-ink-light); margin-bottom:5px;">${item.area}</p>
                    <p style="font-size:0.85rem; color:var(--c-ink-light); font-style:italic;">"${item.note}"</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.map)}" target="_blank" class="btn-map">${mapIcon} é–‹å•Ÿåœ°åœ–</a>
                </div>
            `).join('');
        }

        function renderFlights() {
            const list = document.getElementById('flight-list');
            list.innerHTML = data.flights.map(item => `
                <div class="card flight-card">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                        <span class="tag">${item.type}</span>
                        <span class="flight-number">${item.flight}</span>
                    </div>
                    <div style="display:flex; justify-content:space-between; align-items:center; margin:20px 0;">
                        <div style="text-align:center;">
                            <div style="font-size:0.8rem; color:var(--c-ink-light);">ORIGIN</div>
                            <div style="font-size:1.5rem; font-weight:bold;">${item.route.split('â')[0].trim()}</div>
                        </div>
                        <div style="color:var(--c-gold); font-size:2rem; transform: rotate(45deg); display: flex; align-items: center;">âœˆ</div>
                        <div style="text-align:center;">
                            <div style="font-size:0.8rem; color:var(--c-ink-light);">DEST.</div>
                            <div style="font-size:1.5rem; font-weight:bold;">${item.route.split('â')[1].trim()}</div>
                        </div>
                    </div>
                    <div style="border-top:1px dashed var(--c-paper-dark); padding-top:15px; display:flex; justify-content:space-between;">
                        <div>
                            <div style="font-size:0.7rem; color:var(--c-ink-light);">DATE</div>
                            <div style="font-weight:bold;">${item.date}</div>
                        </div>
                        <div style="text-align:right;">
                            <div style="font-size:0.7rem; color:var(--c-ink-light);">TIME</div>
                            <div style="font-weight:bold; color:var(--c-vermilion);">${item.time}</div>
                        </div>
                    </div>
                    <div style="margin-top:10px; font-size:0.8rem; color:var(--c-ink-light); text-align:center;">${item.note}</div>
                </div>
            `).join('');
        }

        function renderSpots() {
            const list = document.getElementById('spot-list');
            list.innerHTML = data.spots.map(spot => `
                <div class="spot-card" onclick="toggleSpot('${spot.id}')">
                    <div class="spot-img-container">
                        <img src="${spot.img}" alt="${spot.name}" class="spot-img">
                    </div>
                    <div class="spot-header">
                        <div class="spot-title">${spot.name}</div>
                        <div class="spot-subtitle">${spot.subtitle}</div>
                        
                        <div class="expand-hint" id="hint-${spot.id}">
                             <span>â–¼ é»æ“Šå±•é–‹è©³æƒ…</span>
                        </div>

                        <div class="spot-details" id="details-${spot.id}">
                            <div class="spot-content">
                                <div class="spot-section-title">èƒŒæ™¯èˆ‡ç‰¹è‰²</div>
                                <p>${spot.bg}</p>

                                <div class="spot-section-title">å¿…çœ‹äº®é»</div>
                                <p>${spot.mustSee}</p>

                                <div class="spot-tips-box">
                                    <div style="font-weight:bold; margin-bottom:5px; color:var(--c-matcha);">ğŸ’¡ å°éŠå°æ’‡æ­¥</div>
                                    ${spot.tips}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function toggleSpot(id) {
            const details = document.getElementById(`details-${id}`);
            const hint = document.getElementById(`hint-${id}`);
            const isOpen = details.classList.contains('open');

            // Close all others (optional, but cleaner)
            // document.querySelectorAll('.spot-details').forEach(el => el.classList.remove('open'));
            // document.querySelectorAll('.expand-hint').forEach(el => el.style.opacity = '0.6');

            if (isOpen) {
                details.classList.remove('open');
                hint.innerHTML = '<span>â–¼ é»æ“Šå±•é–‹è©³æƒ…</span>';
            } else {
                details.classList.add('open');
                hint.innerHTML = '<span>â–² æ”¶èµ·è©³æƒ…</span>';
            }
        }

        function switchTab(tabId) {
            document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));
            document.getElementById(`view-${tabId}`).classList.remove('hidden');
            
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            // Index mapping: 0=Itinerary, 1=Spots, 2=Food, 3=Stay, 4=Flights
            const idx = {itinerary:0, spots:1, food:2, stay:3, flights:4}[tabId];
            if(idx !== undefined) {
                document.querySelectorAll('.nav-item')[idx].classList.add('active');
            }
            window.scrollTo(0,0);
        }

        window.onload = () => {
            renderItinerary();
            renderFood();
            renderStay();
            renderFlights();
            renderSpots();
            setTimeout(() => {
                document.getElementById('loader').style.display = 'none';
            }, 1000);
        };
    </script>
</body>
</html>